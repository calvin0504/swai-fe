<!DOCTYPE HTML>
<!--
	Landed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>Landed by HTML5 UP</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
</head>

<body class="is-preload landing">
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<div>

    <header id="header">
        <h1 id="logo"><a href="index.html">Landed</a></h1>
        <nav id="nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li>
                    <a href="#">Layouts</a>
                    <ul>
                        <li><a href="left-sidebar.html">Left Sidebar</a></li>
                        <li><a href="right-sidebar.html">Right Sidebar</a></li>
                        <li><a href="no-sidebar.html">No Sidebar</a></li>
                        <li>
                            <a href="#">Submenu</a>
                            <ul>
                                <li><a href="#">Option 1</a></li>
                                <li><a href="#">Option 2</a></li>
                                <li><a href="#">Option 3</a></li>
                                <li><a href="#">Option 4</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="elements.html">Elements</a></li>
                <li><a href="#" class="button primary">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <!-- Banner -->
    <section id="banner">
        <div class="content">
            <header>
                <h2>The future has landed</h2>
                <p>And there are no hoverboards or flying cars.<br/>
                    Just apps. Lots of mother flipping apps.</p>
            </header>
            <span class="image"><img src="images/pic01.jpg" alt=""/></span>
        </div>
        <a href="#one" class="goto-next scrolly">Next</a>
    </section>

    <!-- One -->
    <section id="one" class="spotlight style1 bottom">
        <span class="image fit main"><img src="images/pic02.jpg" alt=""/></span>
        <div class="content">
            <div class="container">
                <div class="row">
                    <div class="col-4 col-12-medium">
                        <header>
                            <h2>Odio faucibus ipsum integer consequat</h2>
                            <p>Nascetur eu nibh vestibulum amet gravida nascetur praesent</p>
                        </header>
                    </div>
                    <div class="col-4 col-12-medium">
                        <p>Feugiat accumsan lorem eu ac lorem amet sed accumsan donec.
                            Blandit orci porttitor semper. Arcu phasellus tortor enim mi
                            nisi praesent dolor adipiscing. Integer mi sed nascetur cep aliquet
                            augue varius tempus lobortis porttitor accumsan consequat
                            adipiscing lorem dolor.</p>
                    </div>
                    <div class="col-4 col-12-medium">
                        <p>Morbi enim nascetur et placerat lorem sed iaculis neque ante
                            adipiscing adipiscing metus massa. Blandit orci porttitor semper.
                            Arcu phasellus tortor enim mi mi nisi praesent adipiscing. Integer
                            mi sed nascetur cep aliquet augue varius tempus. Feugiat lorem
                            ipsum dolor nullam.</p>
                    </div>
                </div>
            </div>
        </div>
        <a href="#two" class="goto-next scrolly">Next</a>
    </section>

    <!-- Two -->
    <section id="two" class="spotlight style2 right">
        <span class="image fit main"><img src="images/pic03.jpg" alt=""/></span>
        <div class="content">
            <header>
                <h2>Interdum amet non magna accumsan</h2>
                <p>Nunc commodo accumsan eget id nisi eu col volutpat magna</p>
            </header>
            <p>Feugiat accumsan lorem eu ac lorem amet ac arcu phasellus tortor enim mi mi nisi praesent adipiscing.
                Integer mi sed nascetur cep aliquet augue varius tempus lobortis porttitor lorem et accumsan consequat
                adipiscing lorem.</p>
            <ul class="actions">
                <li><a href="#" class="button">Learn More</a></li>
            </ul>
        </div>
        <a href="#three" class="goto-next scrolly">Next</a>
    </section>

    <!-- Three -->
    <section id="three" class="spotlight style3 left">
        <span class="image fit main bottom"><img src="images/pic04.jpg" alt=""/></span>
        <div class="content">
            <header>
                <h2>Interdum felis blandit praesent sed augue</h2>
                <p>Accumsan integer ultricies aliquam vel massa sapien phasellus</p>
            </header>
            <p>Feugiat accumsan lorem eu ac lorem amet ac arcu phasellus tortor enim mi mi nisi praesent adipiscing.
                Integer mi sed nascetur cep aliquet augue varius tempus lobortis porttitor lorem et accumsan consequat
                adipiscing lorem.</p>
            <ul class="actions">
                <li><a href="#" class="button">Learn More</a></li>
            </ul>
        </div>
        <a href="#four" class="goto-next scrolly">Next</a>
    </section>

    <!-- Four -->
    <section id="four" class="wrapper style1 special fade-up">
        <div class="container">
            <header class="major">
                <h2>Accumsan sed tempus adipiscing blandit</h2>
                <p>Iaculis ac volutpat vis non enim gravida nisi faucibus posuere arcu consequat</p>
            </header>
            <div class="box alt">
                <div class="row gtr-uniform">
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-chart-area"></span>
                        <h3>Ipsum sed commodo</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-comment"></span>
                        <h3>Eleifend lorem ornare</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-flask"></span>
                        <h3>Cubilia cep lobortis</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-paper-plane"></span>
                        <h3>Non semper interdum</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-file"></span>
                        <h3>Odio laoreet accumsan</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                    <section class="col-4 col-6-medium col-12-xsmall">
                        <span class="icon solid alt major fa-lock"></span>
                        <h3>Massa arcu accumsan</h3>
                        <p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>
                    </section>
                </div>
            </div>
            <footer class="major">
                <ul class="actions special">
                    <li><a href="#" class="button">Magna sed feugiat</a></li>
                </ul>
            </footer>
        </div>
    </section>

    <!-- Five -->
    <section id="five" class="wrapper style2 special fade">
        <div class="container">
            <header>
                <p>이메일을 남겨주시면 서비스가 런칭되었을 때 알림을 드리겠습니다.</p>
            </header>
            <form method="post" action="#" class="cta">
                <div class="row gtr-uniform gtr-50">
                    <div class="col-8 col-12-xsmall"><input type="email" name="email" id="email"
                                                            placeholder="Your Email Address"/></div>
                    <div class="col-4 col-12-xsmall"><input type="submit" value="Get Started" class="fit primary"/>
                    </div>
                </div>
            </form>
        </div>
    </section>


    <div id="popup" style="display:none; color: black;">
        <h1 style="color: black;"> 감사합니다.</h1>
        <h1>감사합니다.</h1>
        <p style="color: black;">이제는 우리는 같은 배를 탔습니다.</p>
    </div>


    <!--FORM -->
    <center>
        <p>이메일을 남겨주시면 서비스가 런칭되었을 때 알림을 드리겠습니다. </p>
        <input id="submit-email" type="email" placeholder="알림을 받으실 이메일"/> <br><br>
        <p>서비스가 이렇게 되었으면 좋겠다는 조언을 해 주세요 </p>
        <textarea id="submit-advice" name="Text1" cols="40" rows="5" placeholder="서비스에 대한 조언을 남겨주세요"></textarea><br>
        <button style="width:350px;" id="submit">지금 제출!</button>
    </center>


    <!-- Footer -->
    <footer id="footer">
        <ul class="icons">
            <li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
            <li><a href="#" class="icon brands alt fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
            <li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
            <li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; Untitled. All rights reserved.</li>
            <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
    </footer>
</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script src="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.js"></script>

<script src="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.css" rel="stylesheet"
      type="text/css"/>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>


<script type="application/javascript">
    // IP 가져오기 함수
    var ip = "null";

    function getIP(json) {
        ip = json.ip || 'unknown';
    }
</script>

<script type="application/javascript" src="https://jsonip.com?format=jsonp&callback=getIP"></script>

<script>
    // 쿠키에서 값을 가져오는 함수
    function getCookieValue(name) {
        const value = "; " + document.cookie;
        const parts = value.split("; " + name + "=");
        if (parts.length === 2) {
            return parts.pop().split(";").shift();
        }
    }

    // 쿠키에 값을 저장하는 함수
    function setCookieValue(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getUVfromCookie() {
        // 6자리 임의의 문자열 생성
        const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
        // 쿠키에서 기존 해시 값을 가져옴
        const existingHash = getCookieValue("user");
        // 기존 해시 값이 없으면, 새로운 해시 값을 쿠키에 저장
        if (!existingHash) {
            setCookieValue("user", hash, 180); // 쿠키 만료일은 6개월
            return hash;
        } else {
            // 기존 해시 값이 있으면, 기존 값을 반환
            return existingHash;
        }
    }


    // Sam pading value to start with 0. eg: 01, 02, .. 09, 10, ..
    function padValue(value) {
        return (value < 10) ? "0" + value : value;
    }

    function getTimeStamp() {
        const date = new Date();

        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();
        const hours = date.getHours();
        const minutes = date.getMinutes();
        const seconds = date.getSeconds();

        const formattedDate = `${padValue(year)}-${padValue(month)}-${padValue(day)} ${padValue(hours)}:${padValue(minutes)}:${padValue(seconds)}`;

        return formattedDate;
    }

    const queryString = location.search;
    const urlParams = new URLSearchParams(queryString);
    const utm = urlParams.get("utm")

    let mobile = 'desktop';
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        // true for mobile device
        mobile = 'mobile';
    }

    /* data를 만들 땐 모든 field가 들어 있어야 함 */
    var data = JSON.stringify(
        {
            "id": getUVfromCookie(),
            "landingUrl": window.location.href.substring(0, 80),
            "ip": ip,
            "referer": document.referrer.substring(0, 80),
            "time_stamp": getTimeStamp(),
            "utm": utm,
            "device": mobile
        }
    );


    $(document).ready(function () {

        $.ajax({
            url: 'https://script.google.com/macros/s/AKfycbzift-DdI3QZpwM-Z1fyb4Ag16Hch6PRzmV7I5wqPDf-ptT46vBcoyNvALzmBFqUa_JKw/exec' + '?action=insert&table=visitors&data=' + data,
            dataType: 'jsonp',
            success: function (data) {
                console.log('성공 - ', JSON.stringify(data));
            },
            error: function (xhr) {
                console.log('실패 - ', JSON.stringify(xhr));
            }
        });

        $("#submit").on("click", function () {

            $.busyLoadFull("show");

            const email = $("#submit-email").val();
            const advice = $("#submit-advice").val();

            function validateEmail(email) {
                var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
                return re.test(email);
            }

            if (email == '' || !validateEmail(email)) {
                alert("이메일이 유효하지 않아 알림을 드릴 수가 없습니다. ");
                return;
            }

            var finalData = JSON.stringify({
                "id": getUVfromCookie(),
                "email": email,
                "advice": advice
            })

            axios.get('https://script.google.com/macros/s/AKfycbzift-DdI3QZpwM-Z1fyb4Ag16Hch6PRzmV7I5wqPDf-ptT46vBcoyNvALzmBFqUa_JKw/exec?action=insert&table=registration&data=' + finalData)
                .then(response => {
                    console.log(response.data.data);
                    // $.busyLoadFull("hide");

                    // alert(JSON.stringify(response));
                    $('#submit-email').val('');
                    $('#submit-advice').val('');
                }).finally(() => {
                $.busyLoadFull("hide");
                $.fn.simplePopup({type: "html", htmlSelector: "#popup"});

            })
        });

    });


</script>


</body>
</html>

